# Contentrain SDK Cursor Rules

# Project Structure Rules
structure:
  root:
    - packages/
    - playground/    # Test and development environment
    - scripts/      # Build and development scripts
  
  packages:
    sdk:
      src:
        - core/       # Core SDK functionality
        - types/      # Type definitions
        - plugins/    # Framework integrations
        - index.ts    # Main entry

# File Naming Rules
naming:
  files:
    pattern: kebab-case
    examples:
      - query-builder.ts
      - type-generator.ts
  
  classes:
    pattern: PascalCase
    examples:
      - Contentrain
      - QueryBuilder
  
  interfaces:
    pattern: PascalCase
    prefix: I
    examples:
      - IContentrainConfig
      - IModelField
  
  types:
    pattern: PascalCase
    examples:
      - ContentrainTypeMap
      - ModelId

# Code Style Rules
style:
  typescript:
    strict: true
    noImplicitAny: true
    noUncheckedIndexedAccess: true
  
  imports:
    grouping:
      - node built-ins
      - external packages
      - internal modules
      - types
    sorting: alphabetical

# Documentation Rules
documentation:
  required:
    - Public APIs
    - Complex Types
    - Query Methods
  
  format:
    - Use JSDoc style
    - Include examples
    - Document edge cases

# Testing Rules
testing:
  coverage:
    minimum: 80%
  
  requirements:
    - Unit tests for core functionality
    - Integration tests for queries
    - Type generation tests
    - Framework integration tests

# Git Rules
git:
  branches:
    main: production ready
    dev: development
    feature: feature/*
    fix: fix/*
  
  commits:
    format: conventional
    types:
      - feat
      - fix
      - docs
      - style
      - refactor
      - test
      - chore 

# Playground Rules
playground:
  - contentrain/   # Test content and models
  - src/          # Test implementation
  - types/        # Generated types

# Ignore Rules
ignore:
  - .example/       # Legacy example code (ignored) 

# Build Rules
build:
  tools:
    - rimraf: Clean build artifacts
    - tsup: Bundle TypeScript
    - tsc: Type checking
  scripts:
    clean: "rimraf 'packages/*/dist' && rimraf '**/node_modules' && rimraf '.turbo'"
    build: "turbo run build"
    dev: "turbo run dev" 